<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Animacions del Canvas</title>
    <style>
        canvas{
            border: solid;
        }
    </style>
    <script>
        var c; // Referencia al canvas
        var ctx; // Context 2D
        var cw;  // Amplada canvas
        var ch ; // Al√ßada canvas
        var parado; // Boolea indicador de moviment
        var Id; // Id animacio
        var rotacio; // Angle animacio

        const rad = Math.PI/180; // Conversio radians
        const angulo = 5; // Increment rotacio
        
        function inicialitza(){
            c = document.getElementById("canvas");
            ctx = c.getContext("2d");
            cw = 20;
            ch = 150;
            rotacio=4
    
            // Dibuixar primer rectangle
            ctx.beginPath();
            ctx.lineWidth = "1";
            ctx.rect(20, 100);  
            ctx.stroke();

            // Translacio origen coordenades a la meitat del canvas

            // A partir del punt de translacio anterior, retrocedeix 75p
            // esquerra i a dalt i dibuixa rect de 150x150px

            parat=true

            // Programem event onClick del canvas
            c.addEventListener("click", decisio); 
        }
    
        function decisio(){
            if(parat==true){
		// Arranquem animacio i canvi text boto

            }else{
		// Aturem animacio i canvi text boto

            }

        }        
        
        function girar(){
            // Borra rect de la posicio -cw/2,-ch/2 de tamany cw,ch,
            // recordem que esta trasladat...


	        // Tornem a repintar rectangle amb orientacio nova

            rotacio=4


 	        // Reprogramem animacio
	    
        }
         
        function stopAnimacio() {
            if (Id) {
                window.cancelAnimationFrame(Id);
            }
            parat
        }
        
        function reiniciar(){
	        // Aturem i repintem en posicio i angle inicial
            rotacio=0;

	        // Reiniciem moviment
            decisio();
        }
        
    </script>
</head>
<body onLoad="inicialitza();">
    <div>
        <canvas id="c" width="500" height="300">Canvas no suportat... </canvas> 
    </div>
    
    <div>
        <p>
           <button id="boto" onClick="decisio();">Arrancar</button>
           <button id="boto2" onClick="reiniciar();">Reiniciar</button>
        </p> 
    </div>
</body>
</html>
